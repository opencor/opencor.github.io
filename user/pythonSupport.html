<!DOCTYPE html>
<html>
    <head>
        <title>
            Python support
        </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

        <link href="_static/pygments.css" rel="stylesheet" type="text/css" />
        <link href="_static/theme.css" rel="stylesheet" type="text/css" />

        <script src="_static/jquery.js" type="text/javascript"></script>
        <script src="_static/theme.js" type="text/javascript"></script>

        <link href="_static/katex/katex.min.css" rel="stylesheet" type="text/css"/>

        <script defer src="_static/katex/katex.min.js" type="text/javascript"></script>
        <script defer src="_static/katex/contrib/auto-render.min.js" type="text/javascript" onload="renderMathInElement(document.body);"></script>
    </head>
    <body ondragstart="return false;" ondrop="return false;">
        
  <div class="section" id="python-support">
<span id="pythonsupport"></span><h1>Python support<a class="headerlink" href="#python-support" title="Permalink to this headline">¶</a></h1>
<p>OpenCOR comes bundled with <a class="reference external" href="https://python.org/">Python</a>, providing <a class="reference external" href="https://python.org/">Python</a> support to OpenCOR.
The following <a class="reference external" href="https://python.org/">Python</a> packages are included:</p>
<ul class="simple">
<li><a class="reference external" href="https://matplotlib.org/">Matplotlib</a>: a <a class="reference external" href="https://python.org/">Python</a> 2D plotting library which produces publication quality figures in a variety of hardcopy formats and interactive environments across platforms;</li>
<li><a class="reference external" href="https://numpy.org/">NumPy</a>: the fundamental package for scientific computing with <a class="reference external" href="https://python.org/">Python</a>; and</li>
<li><a class="reference external" href="https://scipy.org/">SciPy</a>: a <a class="reference external" href="https://python.org/">Python</a>-based ecosystem of open-source software for mathematics, science and engineering.</li>
</ul>
<p>Some code illustrating the use of the OpenCOR <a class="reference external" href="https://python.org/">Python</a> module and wrappers can be found <a class="reference external" href="https://github.com/opencor/opencor/tree/master/src/plugins/support/PythonSupport/tests/data">here</a>.</p>
<div class="section" id="install-a-python-package">
<h2>Install a Python package<a class="headerlink" href="#install-a-python-package" title="Permalink to this headline">¶</a></h2>
<p>Additional <a class="reference external" href="https://python.org/">Python</a> packages can be installed either from the <a class="reference internal" href="userInterfaces/commandLineInterface.html#userinterfaces-commandlineinterface"><span class="std std-ref">CLI</span></a> (using the <code class="docutils literal notranslate"><span class="pre">jupyterconsole[.bat]</span></code> <a class="reference internal" href="userInterfaces/commandLineInterfacePythonRelatedScripts.html#userinterfaces-commandlineinterfacepythonrelatedscriptsjupyterconsole"><span class="std std-ref">script</span></a>) or through the <a class="reference internal" href="userInterfaces/graphicalUserInterface.html#userinterfaces-graphicaluserinterface"><span class="std std-ref">GUI</span></a> (using the <a class="reference internal" href="plugins/miscellaneous/pythonConsoleWindow.html#plugins-miscellaneous-pythonconsolewindow"><span class="std std-ref">Python Console window</span></a> plugin):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>!pip install package_name
</pre></div>
</div>
</div>
<div class="section" id="python-module">
<h2>Python module<a class="headerlink" href="#python-module" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference external" href="https://python.org/">Python</a> module, <code class="docutils literal notranslate"><span class="pre">opencor</span></code>, is available and can be used to handle simulations in OpenCOR:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">open_simulation(file_name_or_url)</span></code>: open and return the simulation for the given local or remote <a class="reference external" href="https://cellml.org/">CellML</a> file, <a class="reference external" href="https://sed-ml.github.io/">SED-ML</a> file or <a class="reference external" href="https://co.mbine.org/documents/archive">COMBINE archive</a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">close_simulation(simulation)</span></code>: close the given simulation.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">simulation()</span></code>: return the current simulation.</p>
<p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">simulation()</span></code> is only available when using the <a class="reference internal" href="plugins/miscellaneous/pythonConsoleWindow.html#plugins-miscellaneous-pythonconsolewindow"><span class="std std-ref">Python Console window</span></a> plugin.</p>
</li>
</ul>
</div>
<div class="section" id="python-wrappers">
<h2>Python wrappers<a class="headerlink" href="#python-wrappers" title="Permalink to this headline">¶</a></h2>
<p>The following OpenCOR classes have some <a class="reference external" href="https://python.org/">Python</a> wrappers that can be used to handle a simulation, simulation data, simulation results, a data store and a data store variable:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Simulation</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">clear_results()</span></code>: clear the simulation results.</li>
<li><code class="docutils literal notranslate"><span class="pre">data()</span></code>: return the simulation data as a <code class="docutils literal notranslate"><span class="pre">SimulationData</span></code> object.</li>
<li><code class="docutils literal notranslate"><span class="pre">issues()</span></code>: return a list of issues with the simulation.</li>
<li><code class="docutils literal notranslate"><span class="pre">reset(all</span> <span class="pre">=</span> <span class="pre">True)</span></code>: reset all the model parameters (<code class="docutils literal notranslate"><span class="pre">all</span> <span class="pre">=</span> <span class="pre">True</span></code>) or only the state model parameters (<code class="docutils literal notranslate"><span class="pre">all</span> <span class="pre">=</span> <span class="pre">False</span></code>).</li>
<li><code class="docutils literal notranslate"><span class="pre">results()</span></code>: return the results as a <code class="docutils literal notranslate"><span class="pre">SimulationResults</span></code> object.</li>
<li><code class="docutils literal notranslate"><span class="pre">run()</span></code>: run the simulation.</li>
<li><code class="docutils literal notranslate"><span class="pre">valid()</span></code>: return whether the simulation is valid.</li>
</ul>
</li>
</ul>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">SimulationData</span></code>:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">algebraic()</span></code>: return the algebraic values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreValue</span></code> objects.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">constants()</span></code>: return the constants values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreValue</span></code> objects.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ending_point()</span></code>: return the ending point.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">nla_solver_name()</span></code>: return the name of the NLA solver.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">nla_solver_property(name)</span></code>: return the value of the NLA solver property.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ode_solver_name()</span></code>: return the name of the ODE solver.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ode_solver_property(name)</span></code>: return the value of the ODE solver property.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">point_interval()</span></code>: return the point interval.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">rates()</span></code>: return the rates values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreValue</span></code> objects.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_ending_point(value)</span></code>: set the ending point.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_nla_solver(name)</span></code>: set the NLA solver.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_nla_solver_property(name,</span> <span class="pre">value)</span></code>: set the value of the NLA solver property.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_ode_solver(name)</span></code>: set the ODE solver using the given ODE solver name.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_ode_solver_property(name,</span> <span class="pre">value)</span></code>: set the value of the ODE solver property.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_point_interval(value)</span></code>: set the point interval.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">set_starting_point(value)</span></code>: set the starting point.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">starting_point()</span></code>: return the starting point.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">states()</span></code>: return the states values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreValue</span></code> objects.</p>
<p><strong>Note:</strong> neither <code class="docutils literal notranslate"><span class="pre">set_ode_solver()</span></code>, <code class="docutils literal notranslate"><span class="pre">set_ode_solver_property()</span></code>, <code class="docutils literal notranslate"><span class="pre">set_nla_solver()</span></code> nor <code class="docutils literal notranslate"><span class="pre">set_nla_solver_property()</span></code> currently updates the <a class="reference internal" href="userInterfaces/graphicalUserInterface.html#userinterfaces-graphicaluserinterface"><span class="std std-ref">GUI</span></a>.</p>
</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SimulationResults</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">algebraic()</span></code>: return the algebraic values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">constants()</span></code>: return the constants values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">data_store()</span></code>: return the associated data store as a <code class="docutils literal notranslate"><span class="pre">DataStore</span></code> object.</li>
<li><code class="docutils literal notranslate"><span class="pre">rates()</span></code>: return the rates values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">states()</span></code>: return the states values as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">voi()</span></code>: return the variable of integration as a <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> object.</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DataStore</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">variables()</span></code>: return the variables as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
<li><code class="docutils literal notranslate"><span class="pre">voi()</span></code>: return the variable of integration as a <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> object.</li>
<li><code class="docutils literal notranslate"><span class="pre">voi_and_variables()</span></code>: return the variable of integration and variables as a <a class="reference external" href="https://docs.python.org/3.7/tutorial/datastructures.html#dictionaries">Python dictionary</a> of <code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code> objects.</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DataStoreValue</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">set_value(value)</span></code>: set the value.</li>
<li><code class="docutils literal notranslate"><span class="pre">uri()</span></code>: return the <a class="reference external" href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">value()</span></code>: return the value.</li>
</ul>
</li>
</ul>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DataStoreVariable</span></code>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">name()</span></code>: return the name.</li>
<li><code class="docutils literal notranslate"><span class="pre">runs_count()</span></code>: return the number of runs.</li>
<li><code class="docutils literal notranslate"><span class="pre">type()</span></code>: return the type of the variable (<code class="docutils literal notranslate"><span class="pre">1</span></code>: variable of integration, <code class="docutils literal notranslate"><span class="pre">2</span></code>: state, <code class="docutils literal notranslate"><span class="pre">3</span></code>: rate, <code class="docutils literal notranslate"><span class="pre">4</span></code>: constant, <code class="docutils literal notranslate"><span class="pre">5</span></code>: computed constant, and <code class="docutils literal notranslate"><span class="pre">6</span></code>: algebraic).</li>
<li><code class="docutils literal notranslate"><span class="pre">unit()</span></code>: return the unit.</li>
<li><code class="docutils literal notranslate"><span class="pre">uri()</span></code>: return the <a class="reference external" href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">value(position,</span> <span class="pre">run</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: return the value at the given position and for the given run (<code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">=</span> <span class="pre">-1</span></code> corresponds to the last run).</li>
<li><code class="docutils literal notranslate"><span class="pre">values(run</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: return the values for the given run (<code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">=</span> <span class="pre">-1</span></code> corresponds to the last run) as a <a class="reference external" href="https://numpy.org/doc/1.17/reference/generated/numpy.array.html">NumPy array</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">values_count(run</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: return the number of values for the given run (<code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">=</span> <span class="pre">-1</span></code> corresponds to the last run).</li>
</ul>
</li>
</ul>
</div>
</div>



        <script type="text/javascript">
            copyright("_static");
        </script>
    </body>
</html>