<!DOCTYPE html>
<html>
    <head>
        <title>
            CellMLTextView plugin
        </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

        <link href="../../_static/copybutton.css" rel="stylesheet" type="text/css" />
        <link href="../../_static/pygments.css" rel="stylesheet" type="text/css" />
        <link href="../../_static/tabs.css" rel="stylesheet" type="text/css" />
        <link href="../../_static/theme.css" rel="stylesheet" type="text/css" />
                <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
                <script src="../../_static/jquery.js"></script>
                <script src="../../_static/underscore.js"></script>
                <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
                <script src="../../_static/doctools.js"></script>
                <script src="../../_static/sphinx_highlight.js"></script>
                <script src="../../_static/clipboard.min.js"></script>
                <script src="../../_static/copybutton.js"></script>
                <script src="../../_static/tabs.js"></script>
                <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

        <script src="../../_static/theme.js" type="text/javascript"></script>

        <link href="../../_static/katex/katex.min.css" rel="stylesheet" type="text/css"/>

        <script defer src="../../_static/katex/katex.min.js" type="text/javascript"></script>
        <script defer src="../../_static/katex/contrib/auto-render.min.js" type="text/javascript" onload="renderMathInElement(document.body);"></script>
    </head>
    <body ondragstart="return false;" ondrop="return false;">
        
  <section id="cellmltextview-plugin">
<span id="plugins-editing-cellmltextview"></span><h1>CellMLTextView plugin<a class="headerlink" href="#cellmltextview-plugin" title="Permalink to this heading">¶</a></h1>
<p>The CellMLTextView plugin can be used to edit <a class="reference external" href="https://cellml.org/">CellML</a> files using a text editor that supports the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>.
If you open a <a class="reference external" href="https://cellml.org/">CellML</a> file, it will look something like:</p>
<a class="reference internal image-reference" href="../../_images/CellMLTextViewScreenshot01.png"><img alt="../../_images/CellMLTextViewScreenshot01.png" class="align-center" src="../../_images/CellMLTextViewScreenshot01.png" style="width: 407.0px; height: 230.5px;" /></a>
<p>Apart from using a specific format, the view has the same features as the <a class="reference internal" href="rawCellmlView.html#plugins-editing-rawcellmlview"><span class="std std-ref">Raw CellML</span></a> view with one exception: <code class="docutils literal notranslate"><span class="pre">CellML</span> <span class="pre">Validation</span></code> only validates against the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>, not <a class="reference external" href="https://cellml.org/">CellML</a> <em>per se</em>.</p>
<section id="compatibility-with-cor">
<h2>Compatibility with COR<a class="headerlink" href="#compatibility-with-cor" title="Permalink to this heading">¶</a></h2>
<p>People familiar with <a class="reference external" href="https://opencor.ws/cor">COR</a> will find that the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a> is compatible with the COR format, although it supports additional features:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#plugins-editing-cellmltextview-comments"><span class="std std-ref">Comments</span></a>;</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">import</span></code> element (i.e. support for <a class="reference external" href="https://cellml.org/specifications/cellml_1.1">CellML 1.1</a>);</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cmeta:id</span></code> attribute on all <a class="reference external" href="https://cellml.org/">CellML</a> elements (i.e. support for <a class="reference external" href="https://cellml.org/">CellML</a> annotation);</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">degree</span></code> qualifier for the <code class="docutils literal notranslate"><span class="pre">diff</span></code> element (i.e. support for higher-order derivatives);</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">notanumber</span></code> and <code class="docutils literal notranslate"><span class="pre">infinity</span></code> constants; and</p></li>
<li><p>An unlimited number of group types (in <a class="reference external" href="https://opencor.ws/cor">COR</a>, a group can only specify one <code class="docutils literal notranslate"><span class="pre">encapsulation</span></code> and/or one <code class="docutils literal notranslate"><span class="pre">containment</span></code> type).</p></li>
</ul>
<p>However, note that the COR format has some limitations that are also present in the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">reaction</span></code> element is not supported (its use is not only discouraged, but it has also been removed from <a class="reference external" href="https://cellml.org/specifications/cellml_2.0">CellML 2.0</a>, which is not yet supported by OpenCOR);</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">component</span></code> element may contain a set of <code class="docutils literal notranslate"><span class="pre">math</span></code> elements, but when serialised back, only one <code class="docutils literal notranslate"><span class="pre">math</span></code> element will remain, with all the equations in that one and unique <code class="docutils literal notranslate"><span class="pre">math</span></code> element.</p></li>
</ul>
</section>
<section id="comments">
<span id="plugins-editing-cellmltextview-comments"></span><h2>Comments<a class="headerlink" href="#comments" title="Permalink to this heading">¶</a></h2>
<p>You can (un)comment a piece of code by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl</span></code>+<code class="docutils literal notranslate"><span class="pre">/</span></code>.
If no text is selected or if it consists of one or several full lines then the comment will be rendered as <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">XXX</span></code>.
For instance:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">model</span><span class="ct"> my_model </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctc">// A single line comment</span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Alternatively, if one or several lines are partially selected then the comment will be rendered as <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">XXX</span> <span class="pre">*/</span></code>.
For instance:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">model</span><span class="ct"> my</span><span class="ctc">/*_super_duper*/</span><span class="ct">_model </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">XXX</span> <span class="pre">*/</span></code> comments are only for convenience and are not serialised back to <a class="reference external" href="https://cellml.org/">CellML</a>.
Indeed, such comments can be inserted anywhere, including within an equation.
For instance:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">V</span><span class="ctp">,</span><span class="ct"> time</span><span class="ctp">)</span><span class="ct"> </span><span class="cto">=</span><span class="ct"> </span><span class="cto">-</span><span class="ctp">(</span><span class="ct">i_Na</span><span class="cto">+</span><span class="ct">i_K</span><span class="cto">+</span><span class="ct">i_Leak</span><span class="ctc">/*+i_Stim*/</span><span class="ctp">)</span><span class="cto">/</span><span class="ct">Cm</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>It is therefore impossible to determine where such comments should be included when serialised back.</p>
<p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">XXX</span></code> comments can also be inserted anywhere, but unlike <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">XXX</span> <span class="pre">*/</span></code> comments they are serialised back.
However, the rendering of certain elements is such that when serialised back, <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">XXX</span></code> comments may be included in the parent element of those elements, and either before or after those elements, depending on the situation.</p>
</section>
<section id="cellml-text-format">
<span id="plugins-editing-cellmltextview-cellmltextformat"></span><h2>CellML Text format<a class="headerlink" href="#cellml-text-format" title="Permalink to this heading">¶</a></h2>
<p>The <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a> offers, for the large part, a one-to-one mapping to the <a class="reference external" href="https://cellml.org/">CellML</a> format with the view of making it easier to create and edit <a class="reference external" href="https://cellml.org/">CellML</a> files.</p>
<section id="model-structure">
<h3>Model structure<a class="headerlink" href="#model-structure" title="Permalink to this heading">¶</a></h3>
<p>To define a model of name <code class="docutils literal notranslate"><span class="pre">my_model</span></code>, we use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">model</span><span class="ct"> my_model </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>The model definition sits between <code class="docutils literal notranslate"><span class="pre">as</span></code> and <code class="docutils literal notranslate"><span class="pre">enddef;</span></code>, and can consist of <a class="reference internal" href="#plugins-editing-cellmltextview-imports"><span class="std std-ref">imports</span></a>, <a class="reference internal" href="#plugins-editing-cellmltextview-unitdefinitions"><span class="std std-ref">unit definitions</span></a>, <a class="reference internal" href="#plugins-editing-cellmltextview-componentdefinitions"><span class="std std-ref">component definitions</span></a>, <a class="reference internal" href="#plugins-editing-cellmltextview-groupdefinitions"><span class="std std-ref">group definitions</span></a>, and <a class="reference internal" href="#plugins-editing-cellmltextview-mappingdefinitions"><span class="std std-ref">mapping definitions</span></a>.</p>
</section>
<section id="imports">
<span id="plugins-editing-cellmltextview-imports"></span><h3>Imports<a class="headerlink" href="#imports" title="Permalink to this heading">¶</a></h3>
<p>To define an import for units and components defined in a <a class="reference external" href="https://cellml.org/">CellML</a> file, which <a class="reference external" href="https://en.wikipedia.org/wiki/Uniform_resource_identifier">URI</a> is <code class="docutils literal notranslate"><span class="pre">my_imported_model_uri</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">import</span><span class="ct"> </span><span class="ctk">using</span><span class="ct"> </span><span class="cts">&quot;my_imported_model_uri&quot;</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>To import a unit originally named <code class="docutils literal notranslate"><span class="pre">my_reference_unit</span></code> and renamed <code class="docutils literal notranslate"><span class="pre">my_imported_unit</span></code> in our model, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">unit</span><span class="ct"> my_imported_unit </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_reference_unit</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Similarly, to import a component originally named <code class="docutils literal notranslate"><span class="pre">my_reference_component</span></code> and renamed <code class="docutils literal notranslate"><span class="pre">my_imported_component</span></code> in our model, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">comp</span><span class="ct"> my_imported_component </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">comp</span><span class="ct"> my_reference_component</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Putting everything together, we would have:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">import</span><span class="ct"> </span><span class="ctk">using</span><span class="ct"> </span><span class="cts">&quot;my_imported_model_uri&quot;</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> my_imported_unit </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_reference_unit</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">comp</span><span class="ct"> my_imported_component </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">comp</span><span class="ct"> my_reference_component</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
</section>
<section id="unit-definitions">
<span id="plugins-editing-cellmltextview-unitdefinitions"></span><h3>Unit definitions<a class="headerlink" href="#unit-definitions" title="Permalink to this heading">¶</a></h3>
<p>To define a base unit of name <code class="docutils literal notranslate"><span class="pre">my_base_unit</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_base_unit </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">base</span><span class="ct"> </span><span class="ctk">unit</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>To define a unit of name <code class="docutils literal notranslate"><span class="pre">my_unit</span></code>, based on some other units, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_unit </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> my_other_unit </span><span class="ctpb">{...}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> </span><span class="ctsuk">second</span><span class="ct"> </span><span class="ctpb">{...}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> </span><span class="ctsuk">litre</span><span class="ct"> </span><span class="ctpb">{...}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> </span><span class="ctsuk">volt</span><span class="ct"> </span><span class="ctpb">{...}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">my_other_unit</span></code> refers to a user-defined unit while <code class="docutils literal notranslate"><span class="pre">second</span></code> is an <a class="reference external" href="https://en.wikipedia.org/wiki/International_System_of_Units">SI</a> base unit, <code class="docutils literal notranslate"><span class="pre">litre</span></code> a convenience unit and <code class="docutils literal notranslate"><span class="pre">volt</span></code> an <a class="reference external" href="https://en.wikipedia.org/wiki/International_System_of_Units">SI</a>-derived unit .
The following <a class="reference external" href="https://en.wikipedia.org/wiki/International_System_of_Units">SI</a> base (in bold) and -derived units, as well as convenience units (in italics), can be used:</p>
<table class="units docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>ampere</strong></p></td>
<td><p>becquerel</p></td>
<td><p><strong>candela</strong></p></td>
<td><p>celsius</p></td>
<td><p>coulomb</p></td>
<td><p><em>dimensionless</em></p></td>
</tr>
<tr class="row-even"><td><p>farad</p></td>
<td><p><em>gram</em></p></td>
<td><p>gray</p></td>
<td><p>henry</p></td>
<td><p>hertz</p></td>
<td><p>joule</p></td>
</tr>
<tr class="row-odd"><td><p>katal</p></td>
<td><p><strong>kelvin</strong></p></td>
<td><p><strong>kilogram</strong></p></td>
<td><p><em>liter</em></p></td>
<td><p><em>litre</em></p></td>
<td><p>lumen</p></td>
</tr>
<tr class="row-even"><td><p>lux</p></td>
<td><p><strong>meter</strong></p></td>
<td><p><strong>metre</strong></p></td>
<td><p><strong>mole</strong></p></td>
<td><p>newton</p></td>
<td><p>ohm</p></td>
</tr>
<tr class="row-odd"><td><p>pascal</p></td>
<td><p>radian</p></td>
<td><p><strong>second</strong></p></td>
<td><p>siemens</p></td>
<td><p>sievert</p></td>
<td><p>steradian</p></td>
</tr>
<tr class="row-even"><td><p>tesla</p></td>
<td><p>volt</p></td>
<td><p>watt</p></td>
<td><p>weber</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Additional information can be provided within curly brackets.
Thus, <code class="docutils literal notranslate"><span class="pre">prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">exponent</span></code>, <code class="docutils literal notranslate"><span class="pre">multiplier</span></code>, and <code class="docutils literal notranslate"><span class="pre">offset</span></code> values of <span class="math notranslate nohighlight">\(p\)</span>, <span class="math notranslate nohighlight">\(e\)</span>, <span class="math notranslate nohighlight">\(m\)</span>, and <span class="math notranslate nohighlight">\(o\)</span> can be used on a unit <span class="math notranslate nohighlight">\(u\)</span> to define a new unit equal to <span class="math notranslate nohighlight">\(m \cdot (p \cdot u)^e+o\)</span>.
For example, to define <code class="docutils literal notranslate"><span class="pre">my_unit</span></code> as being equal to <span class="math notranslate nohighlight">\(3 \cdot (milli \cdot my\_other\_unit)^{-1}+7\)</span>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_unit </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">unit</span><span class="ct"> my_other_unit </span><span class="ctpb">{</span><span class="ctpk">pref</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">milli</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">expo</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpb">-</span><span class="ctpn">1</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">mult</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">3</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">off</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">7</span><span class="ctpb">}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">pref</span></code>, <code class="docutils literal notranslate"><span class="pre">expo</span></code>, <code class="docutils literal notranslate"><span class="pre">mult</span></code>, and <code class="docutils literal notranslate"><span class="pre">off</span></code> have a value of <span class="math notranslate nohighlight">\(0\)</span>, <span class="math notranslate nohighlight">\(1.0\)</span>, <span class="math notranslate nohighlight">\(1.0\)</span>, and <span class="math notranslate nohighlight">\(0.0\)</span>, respectively.
<code class="docutils literal notranslate"><span class="pre">pref</span></code> can either be an integer or have any of the following values:</p>
<table class="prefixes docutils align-default">
<tbody>
<tr class="row-odd"><td><p>yotta</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{24}\)</span></p></td>
<td><p>deci</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-1}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>zetta</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{21}\)</span></p></td>
<td><p>centi</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-2}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>exa</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{18}\)</span></p></td>
<td><p>milli</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-3}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>peta</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{15}\)</span></p></td>
<td><p>micro</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-6}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>tera</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{12}\)</span></p></td>
<td><p>nano</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-9}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>giga</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{9}\)</span></p></td>
<td><p>pico</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-12}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>mega</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{6}\)</span></p></td>
<td><p>femto</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-15}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>kilo</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{3}\)</span></p></td>
<td><p>atto</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-18}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>hecto</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{2}\)</span></p></td>
<td><p>zepto</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-21}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>deka</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{1}\)</span></p></td>
<td><p>yocto</p></td>
<td><p><span class="math notranslate nohighlight">\(10^{-24}\)</span></p></td>
</tr>
</tbody>
</table>
</section>
<section id="component-definitions">
<span id="plugins-editing-cellmltextview-componentdefinitions"></span><h3>Component definitions<a class="headerlink" href="#component-definitions" title="Permalink to this heading">¶</a></h3>
<p>To define a component of name <code class="docutils literal notranslate"><span class="pre">my_component</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">comp</span><span class="ct"> my_component </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>The component definition sits between <code class="docutils literal notranslate"><span class="pre">as</span></code> and <code class="docutils literal notranslate"><span class="pre">enddef;</span></code>, and can consist of <a class="reference internal" href="#plugins-editing-cellmltextview-unitdefinitions"><span class="std std-ref">unit definitions</span></a>, <a class="reference internal" href="#plugins-editing-cellmltextview-variabledefinitions"><span class="std std-ref">variable definitions</span></a>, and <a class="reference internal" href="#plugins-editing-cellmltextview-mathematicalequations"><span class="std std-ref">mathematical equations</span></a>.</p>
</section>
<section id="variable-definitions">
<span id="plugins-editing-cellmltextview-variabledefinitions"></span><h3>Variable definitions<a class="headerlink" href="#variable-definitions" title="Permalink to this heading">¶</a></h3>
<p>To define a variable of name <code class="docutils literal notranslate"><span class="pre">my_variable</span></code> and of unit <code class="docutils literal notranslate"><span class="pre">my_unit</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">var</span><span class="ct"> my_variable</span><span class="ctp">:</span><span class="ct"> my_unit </span><span class="ctpb">{...}</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Additional information can be provided within curly brackets: an initial value, a public interface, and/or a private interface.
For example, to initialise <code class="docutils literal notranslate"><span class="pre">my_variable</span></code> to <span class="math notranslate nohighlight">\(3\)</span> and set its public and private interfaces to <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">out</span></code>, respectively, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">var</span><span class="ct"> my_variable</span><span class="ctp">:</span><span class="ct"> my_unit </span><span class="ctpb">{</span><span class="ctpk">init</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">3</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">pub</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">in</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">priv</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">out</span><span class="ctpb">}</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">init</span></code> has no value (i.e. the variable is not initialised) while <code class="docutils literal notranslate"><span class="pre">pub</span></code> and <code class="docutils literal notranslate"><span class="pre">priv</span></code> have a value of <code class="docutils literal notranslate"><span class="pre">none</span></code> (i.e. the variable belongs to the current component and is not visible to other components in the model).
<code class="docutils literal notranslate"><span class="pre">init</span></code> can either take a real number as a value or the name of a variable defined in the current component.
Both <code class="docutils literal notranslate"><span class="pre">pub</span></code> and <code class="docutils literal notranslate"><span class="pre">priv</span></code> can take any of the following values: <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, or <code class="docutils literal notranslate"><span class="pre">out</span></code>.</p>
</section>
<section id="mathematical-equations">
<span id="plugins-editing-cellmltextview-mathematicalequations"></span><h3>Mathematical equations<a class="headerlink" href="#mathematical-equations" title="Permalink to this heading">¶</a></h3>
<p>A mathematical equation must either have an identifier or an <a class="reference external" href="https://en.wikipedia.org/wiki/Ordinary_differential_equation">ODE</a> on its left hand side, i.e. <span class="math notranslate nohighlight">\(x=...\)</span> or <span class="math notranslate nohighlight">\(\frac{dx}{dt}=...\)</span>, respectively.
To write such equations, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">=</span><span class="ct"> </span><span class="ctp">...;</span><span class="ct"></span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">)</span><span class="ct"> </span><span class="cto">=</span><span class="ct"> </span><span class="ctp">...;</span><span class="ct"></span>
</pre></div>
</div>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Ordinary_differential_equation">ODE</a> is a first-order <a class="reference external" href="https://en.wikipedia.org/wiki/Ordinary_differential_equation">ODE</a> and could also be written:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">1</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
<p>As can be seen, the order of the <a class="reference external" href="https://en.wikipedia.org/wiki/Ordinary_differential_equation">ODE</a> is specified using a constant value of unit <code class="docutils literal notranslate"><span class="pre">dimensionless</span></code>, which means that to have <span class="math notranslate nohighlight">\(\frac{d^2 x}{dt^2}\)</span>, <span class="math notranslate nohighlight">\(\frac{d^3 x}{dt^3}\)</span>, etc., we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">2</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctp">...</span><span class="ct"></span>
</pre></div>
</div>
<p>The right-hand side of an equation can use any of the following mathematical operators, elements and constants:</p>
<ul>
<li><p>Relational operators:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></td>
<td><p>Equality (assignment)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">=</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td><p>Equality (binary)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">==</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code></p></td>
<td><p>Inequality</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">&lt;&gt;</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></td>
<td><p>Greater than</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">&gt;</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></td>
<td><p>Lower than</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">&lt;</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td><p>Greater than or equal to</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">&gt;=</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td><p>Lower than or equal to</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">&lt;=</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Arithmetic operators:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Addition</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x</span><span class="cto">+</span><span class="ct">y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Subtraction</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x</span><span class="cto">-</span><span class="ct">y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Multiplication</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x</span><span class="cto">*</span><span class="ct">y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p>Division</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x</span><span class="cto">/</span><span class="ct">y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pow</span></code></p></td>
<td><p>Exponentiation (generic)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">pow</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">pow</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sqr</span></code></p></td>
<td><p>Exponentiation (square)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">sqr</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">root</span></code></p></td>
<td><p>Root (generic)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">root</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">root</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sqrt</span></code></p></td>
<td><p>Root (square)</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">sqrt</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">abs</span></code></p></td>
<td><p>Absolute value</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">abs</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">exp</span></code></p></td>
<td><p>Exponential</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">exp</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ln</span></code></p></td>
<td><p>Natural logarithm</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ln</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log</span></code></p></td>
<td><p>Logarithm</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">log</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">log</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">log</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">floor</span></code></p></td>
<td><p>Floor</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">floor</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ceil</span></code></p></td>
<td><p>Ceiling</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ceil</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fact</span></code></p></td>
<td><p>Factorial</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">fact</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rem</span></code></p></td>
<td><p>Remainder</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">rem</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">rem</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">min</span></code></p></td>
<td><p>Minimum</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">min</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">min</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">min</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">,</span><span class="ct"> z</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max</span></code></p></td>
<td><p>Maximum</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">max</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">max</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">max</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">,</span><span class="ct"> z</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gcd</span></code></p></td>
<td><p>Greatest common divisor</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">gcd</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">gcd</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">gcd</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">,</span><span class="ct"> z</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lcm</span></code></p></td>
<td><p>Least common multiple</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">lcm</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">3</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">lcm</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">lcm</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> y</span><span class="ctp">,</span><span class="ct"> z</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Logical operators:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">and</span></code></p></td>
<td><p>And</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="ctk">and</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">or</span></code></p></td>
<td><p>Or</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="ctk">or</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">xor</span></code></p></td>
<td><p>Exclusive or</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="ctk">xor</span><span class="ct"> y</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">not</span></code></p></td>
<td><p>Not</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">not</span><span class="ct"> x</span>
<span class="ctk">not</span><span class="ctp">(</span><span class="ct">x </span><span class="ctk">and</span><span class="ct"> y</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Calculus elements:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ode</span></code></p></td>
<td><p>Differentiation</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">ode</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">,</span><span class="ct"> </span><span class="ctn">2</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Trigonometric operators:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sin</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sinh</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">asin</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">asinh</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Sine</div>
<div class="line">Hyperbolic sine</div>
<div class="line">Inverse sine</div>
<div class="line">Inverse hyperbolic sine</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">sin</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">sinh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">asin</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">asinh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cos</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">cosh</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acos</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acosh</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Cosine</div>
<div class="line">Hyperbolic cosine</div>
<div class="line">Inverse cosine</div>
<div class="line">Inverse hyperbolic cosine</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">cos</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">cosh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acos</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acosh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">tan</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">tanh</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">atan</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">atanh</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Tangent</div>
<div class="line">Hyperbolic tangent</div>
<div class="line">Inverse tangent</div>
<div class="line">Inverse hyperbolic tangent</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">tan</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">tanh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">atan</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">atanh</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">sec</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sech</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">asec</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">asech</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Secant</div>
<div class="line">Hyperbolic secant</div>
<div class="line">Inverse secant</div>
<div class="line">Inverse hyperbolic secant</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">sec</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">sech</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">asec</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">asech</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">csc</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">csch</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acsc</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acsch</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Cosecant</div>
<div class="line">Hyperbolic cosecant</div>
<div class="line">Inverse cosecant</div>
<div class="line">Inverse hyperbolic cosecant</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">csc</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">csch</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acsc</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acsch</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cot</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">coth</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acot</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">acoth</span></code></div>
</div>
</td>
<td><div class="line-block">
<div class="line">Cotangent</div>
<div class="line">Hyperbolic cotangent</div>
<div class="line">Inverse cotangent</div>
<div class="line">Inverse hyperbolic cotangent</div>
</div>
</td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">cot</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">coth</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acot</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
<span class="ctk">acoth</span><span class="ctp">(</span><span class="ct">x</span><span class="ctp">)</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Constants:</p>
<table class="mathematics docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>True</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">true</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>False</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">false</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nan</span></code></p></td>
<td><p>Not a number</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">nan</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pi</span></code></p></td>
<td><p>Pi</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">pi</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">inf</span></code></p></td>
<td><p>Infinity</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">inf</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e</span></code></p></td>
<td><p>Euler’s number</p></td>
<td><div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">e</span><span class="ct"></span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>A piecewise statement can also be used.
For example, to define <span class="math notranslate nohighlight">\(x\)</span> as being equal to <span class="math notranslate nohighlight">\(y+z\)</span> when <span class="math notranslate nohighlight">\(x &gt; 0\)</span> and <span class="math notranslate nohighlight">\(y-z\)</span> otherwise, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">=</span><span class="ct"> </span><span class="ctk">sel</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">case</span><span class="ct"> x </span><span class="cto">&gt;</span><span class="ct"> </span><span class="ctn">0</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">:</span><span class="ct"></span>
<span class="ct">        y</span><span class="cto">+</span><span class="ct">z</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">otherwise</span><span class="ctp">:</span><span class="ct"></span>
<span class="ct">        y</span><span class="cto">-</span><span class="ct">z</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">endsel</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ct">x </span><span class="cto">=</span><span class="ct"> </span><span class="ctk">sel</span><span class="ctp">(</span><span class="ctk">case</span><span class="ct"> x </span><span class="cto">&gt;</span><span class="ct"> </span><span class="ctn">0</span><span class="ctpb">{</span><span class="ctpsuk">dimensionless</span><span class="ctpb">}</span><span class="ctp">:</span><span class="ct"> y</span><span class="cto">+</span><span class="ct">z</span><span class="ctp">,</span><span class="ct"> </span><span class="ctk">otherwise</span><span class="ctp">:</span><span class="ct"> y</span><span class="cto">-</span><span class="ct">z</span><span class="ctp">);</span><span class="ct"></span>
</pre></div>
</div>
<p>The two syntaxes are equivalent, except that the former syntax can only be used in the top-level (of the right-hand side) of an equation while the latter syntax can be used anywhere (on the right hand-side of an equation).</p>
</section>
<section id="group-definitions">
<span id="plugins-editing-cellmltextview-groupdefinitions"></span><h3>Group definitions<a class="headerlink" href="#group-definitions" title="Permalink to this heading">¶</a></h3>
<p>To define a group, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctp">...</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>A group must be typed as a containment and/or an encapsulation.
For example, to define a containment group, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">containment</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>A containment group can be named.
For example, to define a containment group of name <code class="docutils literal notranslate"><span class="pre">my_containment</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">containment</span><span class="ct"> my_containment </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>An encapsulation group is always nameless, so to define an encapsulation group, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">encapsulation</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>A group can have more than one type.
For example, to define a group as both an encapsulation group and a containment group (of name <code class="docutils literal notranslate"><span class="pre">my_containment</span></code>), we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">encapsulation</span><span class="ct"> </span><span class="ctk">and</span><span class="ct"> </span><span class="ctck">containment</span><span class="ct"> my_containment </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>A group definition is used whenever there is a need for a hierarchy of components.
Some components may include others.
For example, to define a group where both <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> and <code class="docutils literal notranslate"><span class="pre">my_component2</span></code> are at the top level, and where <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> includes <code class="docutils literal notranslate"><span class="pre">my_component11</span></code>, <code class="docutils literal notranslate"><span class="pre">my_component12</span></code> and <code class="docutils literal notranslate"><span class="pre">my_component13</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctp">...</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">comp</span><span class="ct"> my_component1 </span><span class="ctk">incl</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">comp</span><span class="ct"> my_component11</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">comp</span><span class="ct"> my_component12</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">comp</span><span class="ct"> my_component13</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">endcomp</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">comp</span><span class="ct"> my_component2</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>Similarly, to define a group where <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> is at the top level, where <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> includes both <code class="docutils literal notranslate"><span class="pre">my_component11</span></code> and <code class="docutils literal notranslate"><span class="pre">my_component12</span></code>, and where <code class="docutils literal notranslate"><span class="pre">my_component11</span></code> includes <code class="docutils literal notranslate"><span class="pre">my_component111</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctp">...</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">comp</span><span class="ct"> my_component1 </span><span class="ctk">incl</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">comp</span><span class="ct"> my_component11 </span><span class="ctk">incl</span><span class="ct"></span>
<span class="ct">            </span><span class="ctk">comp</span><span class="ct"> my_component111</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">endcomp</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">        </span><span class="ctk">comp</span><span class="ct"> my_component12</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">endcomp</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
</section>
<section id="mapping-definitions">
<span id="plugins-editing-cellmltextview-mappingdefinitions"></span><h3>Mapping definitions<a class="headerlink" href="#mapping-definitions" title="Permalink to this heading">¶</a></h3>
<p>To define some mappings between two components of name <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> and <code class="docutils literal notranslate"><span class="pre">my_component2</span></code>, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">map</span><span class="ct"> </span><span class="ctk">between</span><span class="ct"> my_component1 </span><span class="ctk">and</span><span class="ct"> my_component2 </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctp">...</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
<p>To map variables <code class="docutils literal notranslate"><span class="pre">my_variable1a</span></code> with <code class="docutils literal notranslate"><span class="pre">my_variable2a</span></code>, <code class="docutils literal notranslate"><span class="pre">my_variable1b</span></code> with <code class="docutils literal notranslate"><span class="pre">my_variable2b</span></code>, and <code class="docutils literal notranslate"><span class="pre">my_variable1c</span></code> with <code class="docutils literal notranslate"><span class="pre">my_variable2c</span></code> for components <code class="docutils literal notranslate"><span class="pre">my_component1</span></code> and <code class="docutils literal notranslate"><span class="pre">my_component2</span></code>, respectively, we would use:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">map</span><span class="ct"> </span><span class="ctk">between</span><span class="ct"> my_component1 </span><span class="ctk">and</span><span class="ct"> my_component2 </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">vars</span><span class="ct"> my_variable1a </span><span class="ctk">and</span><span class="ct"> my_variable2a</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">vars</span><span class="ct"> my_variable1b </span><span class="ctk">and</span><span class="ct"> my_variable2b</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">vars</span><span class="ct"> my_variable1c </span><span class="ctk">and</span><span class="ct"> my_variable2c</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
</section>
<section id="metadata">
<span id="plugins-editing-cellmltextview-metadata"></span><h3>Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">¶</a></h3>
<p>The <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a> does not support the editing of <a class="reference external" href="https://cellml.org/">CellML</a> annotations.
However, <code class="docutils literal notranslate"><span class="pre">cmeta:id</span></code>’s are used to make the link between <a class="reference external" href="https://cellml.org/">CellML</a> elements and <a class="reference external" href="https://cellml.org/">CellML</a> annotations.
So, we need the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a> to support the use of <code class="docutils literal notranslate"><span class="pre">cmeta:id</span></code>’s and this is done by enclosing a <code class="docutils literal notranslate"><span class="pre">cmeta:id</span></code> value (e.g., <code class="docutils literal notranslate"><span class="pre">my_cmeta_id</span></code>) within curly brackets:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctpb">{my_cmeta_id}</span><span class="ct"></span>
</pre></div>
</div>
<p>which can then be used to annotate various <a class="reference external" href="https://cellml.org/">CellML</a> elements:</p>
<div class="highlight-cellmlText notranslate"><div class="highlight"><pre><span></span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">model</span><span class="ctpb">{my_model_cmeta_id}</span><span class="ct"> my_model </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">import</span><span class="ctpb">{my_import_cmeta_id}</span><span class="ct"> </span><span class="ctk">using</span><span class="ct"> </span><span class="cts">&quot;my_imported_model_uri&quot;</span><span class="ct"> </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">unit</span><span class="ctpb">{my_imported_unit_cmeta_id}</span><span class="ct"> my_imported_unit </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">unit</span><span class="ct"> my_reference_unit</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">        </span><span class="ctk">comp</span><span class="ctpb">{my_imported_component_cmeta_id}</span><span class="ct"> my_imported_component </span><span class="ctk">using</span><span class="ct"> </span><span class="ctk">comp</span><span class="ct"> my_reference_component</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">unit</span><span class="ctpb">{my_base_unit_cmeta_id}</span><span class="ct"> my_base_unit </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">base</span><span class="ct"> </span><span class="ctk">unit</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">unit</span><span class="ctpb">{my_unit_cmeta_id}</span><span class="ct"> my_unit </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">unit</span><span class="ctpb">{my_other_unit_cmeta_id}</span><span class="ct"> my_other_unit </span><span class="ctpb">{</span><span class="ctpk">pref</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">milli</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">expo</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpb">-</span><span class="ctpn">1</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">mult</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">3</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">off</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">7</span><span class="ctpb">}</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">comp</span><span class="ctpb">{my_component_cmeta_id}</span><span class="ct"> my_component </span><span class="ctk">as</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">var</span><span class="ctpb">{my_variable_cmeta_id}</span><span class="ct"> my_variable</span><span class="ctp">:</span><span class="ct"> my_unit </span><span class="ctpb">{</span><span class="ctpk">init</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpn">3</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">pub</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">in</span><span class="ctpb">,</span><span class="ct"> </span><span class="ctpk">priv</span><span class="ctpb">:</span><span class="ct"> </span><span class="ctpck">out</span><span class="ctpb">}</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">        a </span><span class="cto">=</span><span class="ctpb">{my_algebraic_equation_cmeta_id}</span><span class="ct"> b</span><span class="cto">+</span><span class="ct">c</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">ode</span><span class="ctp">(</span><span class="ct">d</span><span class="ctp">,</span><span class="ct"> t</span><span class="ctp">)</span><span class="ct"> </span><span class="cto">=</span><span class="ctpb">{my_ode_equation_cmeta_id}</span><span class="ct"> </span><span class="ctk">e</span><span class="cto">+</span><span class="ct">f</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">group</span><span class="ctpb">{my_group_cmeta_id}</span><span class="ct"> </span><span class="ctk">as</span><span class="ct"> </span><span class="ctck">encapsulation</span><span class="ctpb">{my_encapsulation_cmeta_id}</span><span class="ct"> </span><span class="ctk">and</span><span class="ct"> </span><span class="ctck">containment</span><span class="ctpb">{my_containment_cmeta_id}</span><span class="ct"> my_containment </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">comp</span><span class="ctpb">{my_component1_cmeta_id}</span><span class="ct"> my_component1 </span><span class="ctk">incl</span><span class="ct"></span>
<span class="ct">            </span><span class="ctk">comp</span><span class="ctpb">{my_component11_cmeta_id}</span><span class="ct"> my_component11</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">            </span><span class="ctk">comp</span><span class="ctpb">{my_component12_cmeta_id}</span><span class="ct"> my_component12</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">            </span><span class="ctk">comp</span><span class="ctpb">{my_component13_cmeta_id}</span><span class="ct"> my_component13</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">endcomp</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">        </span><span class="ctk">comp</span><span class="ctpb">{my_component2_cmeta_id}</span><span class="ct"> my_component2</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>

<span class="ct">    </span><span class="ctk">def</span><span class="ct"> </span><span class="ctk">map</span><span class="ctpb">{my_map_cmeta_id}</span><span class="ct"> </span><span class="ctk">between</span><span class="ctpb">{my_between_cmeta_id}</span><span class="ct"> my_component1 </span><span class="ctk">and</span><span class="ct"> my_component2 </span><span class="ctk">for</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">vars</span><span class="ctpb">{my_varsa_cmeta_id}</span><span class="ct"> my_variable1a </span><span class="ctk">and</span><span class="ct"> my_variable2a</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">vars</span><span class="ctpb">{my_varsb_cmeta_id}</span><span class="ct"> my_variable1b </span><span class="ctk">and</span><span class="ct"> my_variable2b</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">        </span><span class="ctk">vars</span><span class="ctpb">{my_varsc_cmeta_id}</span><span class="ct"> my_variable1c </span><span class="ctk">and</span><span class="ct"> my_variable2c</span><span class="ctp">;</span><span class="ct"></span>
<span class="ct">    </span><span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
<span class="ctk">enddef</span><span class="ctp">;</span><span class="ct"></span>
</pre></div>
</div>
</section>
</section>
<section id="cli-support">
<h2>CLI support<a class="headerlink" href="#cli-support" title="Permalink to this heading">¶</a></h2>
<p>The CellMLTextView plugin relies on the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>.
CLI support has therefore been added to it so that a <a class="reference external" href="https://cellml.org/">CellML</a> file can, from the command line, be imported to the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>, and back.</p>
<p>For example, to import <code class="docutils literal notranslate"><span class="pre">models/van_der_pol_model_1928.cellml</span></code> to the <a class="reference internal" href="#plugins-editing-cellmltextview-cellmltextformat"><span class="std std-ref">CellML Text format</span></a>, we would do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./OpenCOR -c CellMLTextView::import models/van_der_pol_model_1928.cellml
def model van_der_pol_model_1928 as
    def comp main as
        def unit per_second as
            unit second {expo: -1};
        enddef;

        var time: second;
        var x: dimensionless {init: -2};
        var y: dimensionless {init: 0};
        var epsilon: dimensionless {init: 1};

        ode(x, time) = y*1{per_second};
        ode(y, time) = (epsilon*(1{dimensionless}-sqr(x))*y-x)*1{per_second};
    enddef;
enddef;
</pre></div>
</div>
<p>Similarly, and assuming the above import has been saved to a file named <code class="docutils literal notranslate"><span class="pre">van_der_pol_model_1928.txt</span></code>, we could get our original <a class="reference external" href="https://cellml.org/">CellML</a> file by doing the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./OpenCOR -c CellMLTextView::export van_der_pol_model_1928.txt &gt; van_der_pol_model_1928.cellml
</pre></div>
</div>
<p>For precaution, the new <a class="reference external" href="https://cellml.org/">CellML</a> file relies on <a class="reference external" href="https://cellml.org/specifications/cellml_1.1">CellML 1.1</a>, as confirmed by <code class="docutils literal notranslate"><span class="pre">diff</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ diff models/van_der_pol_model_1928.cellml van_der_pol_model_1928.cellml
2c2
&lt; &lt;model name=&quot;van_der_pol_model_1928&quot; xmlns=&quot;http://www.cellml.org/cellml/1.0#&quot; xmlns:cellml=&quot;http://www.cellml.org/cellml/1.0#&quot;&gt;
---
&gt; &lt;model name=&quot;van_der_pol_model_1928&quot; xmlns=&quot;http://www.cellml.org/cellml/1.1#&quot; xmlns:cellml=&quot;http://www.cellml.org/cellml/1.1#&quot;&gt;
</pre></div>
</div>
</section>
</section>



        <script type="text/javascript">
            copyright("../../_static");
        </script>
    </body>
</html>